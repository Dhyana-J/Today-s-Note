
@Oracle sql

*BETWEEN
SELECT * FROM ~~~ WHERE ~~~ BETWEEN 이상 AND 이하;

BETWEEN a AND b : 조건식. 말 그대로 a이상 b이하 값을 의미한다. BETWEEN 뒤에는 AND만 사용 가능하다.

NOT BETWEEN a AND b : 위의 BETWEEN 구문 제외한 모든 값을 불러온다. 집합에서 여집합과 같다~ (컬럼명 앞에 붙여도 상관없음)

*LIKE
LIKE '문자%' : 컬럼값 중에 '문자'로 "시작"하는 것을 조회 (%가 나머지 문자들이나 값을 의미)
LIKE '%문자' : 컬럼값 중에 '문자'로 "끝"나는 것을 조회
LIKE '%문자%' : 컬럼값 중에 '문자'가 포함되는 것을 조회

언더바 개수를 통해 문자 앞에 몇 글자가 오는걸 조회할 지 지정할 수 있다. 
LIKE '_문자' : 컬럼값 중에 '문자'앞에 무조건 한 글자가 올 경우 조회
LIKE '__문자' : 컬럼값 중에 '문자' 앞에 무조건 두 글자가 올 경우 조회

Q. 만약 내부에 쓰이는 와일드카드 (%나 _ 등)이 값에 직접 포함되어있을 경우 구별을 어떻게시켜주지?

-> ESCAPE 옵션으로 특수문자를 지정해주면 된다. 

ESCAPE '\' 이런식으로 지정해주면 \뒤에 오는 한 문자는 값으로 인식된다. 와일드카드가 아니라.

EX)' %\%%' -> 컬럼값중에 %를 포함하는 것들을 추출한다.


* IS NULL / IS NOT NULL ( IS대신 = 못씀 NOT 대신 ! 못씀)
IS NULL : 컬럼값이 NULL인 경우
IS NOT NULL : 컬럼값이 NULL이 아닌 경우

*IN
WHERE A = '1' OR A = '2' OR A = '3';
이런식으로 반복될 때 IN('1','2','3') 이렇게 바꿔줄 수 있다.

*연결 연산자 || (SELECT 뒤에 컬럼 선택할 때 쓰인다)
여러 컬럼값들을 하나의 컬럼인 것 처럼 연결시켜주는 연산자
컬럼과 리터럴(임의의 문자열)을 연결할 수도 있다.

*연산자 우선순위
0. 괄호 ( )
1. 산술
2. 연결
3. 비교
4. IS NULL  LIKE   IN
5. BETWEEN AND
6. NOT
7. AND (논리연산자)
8. OR (논리연산자) OR보다 AND가 먼저 수행


*ORDER BY [칼럼명] [기능명]
가장 마지막에 기술한다. 정렬해주는 구문이다.  
칼럼명은 SELECT 뒤에 기술된 칼럼 순서에따라 1, 2, 3.... 과같은 숫자로 대체 가능하다. (1부터시작함) *인 경우도 마찬가지.

ASC : 오름차순 정렬 (생략 시 기본값임) 기본값이 NULLS LAST이다. 
DESC : 내림차순 정렬 기본값이 NULLS FIRST이다.
NULLS FIRST : 정렬하고자하는 컬럼값에 NULL 있을 경우 해당 NULL값들을 맨 앞에 몰아넣겠다.
NULLS LAST : 정렬하고자하는 `` 맨 뒤에 몰아넣겠다.

---

@FUNCTION (함수)

*문자 처리 함수
LENGTH (문자열) : 해당 문자열의 글자 수를 반환한다.
LENGTHB : 해당 문자의 바이트 수 반환 (한글은 3바이트, 이외 특수문자 영어 등 1바이트. 유니코드(문자인코딩)에 따른 용량과 관련)

이거 테스트 해볼 때,
SELECT LENGTH('테스트에요') FROM DUAL; 
여기서 DUAL? -> 테스트용 테이블이다. 오라클에서 제공해준다. 만약 존재하는 다른 테이블을 FROM 뒤에 기술해주면, 테이블 튜플 수 만큼 결과가 출력된다.
결과값은 NUMBER타입으로 반환된다. 

INSTR(컬럼명, 문자열, 탐색방향 및 시작위치, 몇 번째로 탐색된값?) : 지정한 위치부터 지정한 숫자 번째로 나타나는 문자의 시작 위치 반환
결과값 NUMBER타입이다. 시작위치를 음수로지정하면 역방향으로 탐색하고, -1은 마지막인덱스. -2는 마지막 이전인덱스 이런순.

SUBSTR(문자열, 시작위치, 몇개자를까?) : 컬럼이나 문자열에서 지정한 위치부터 지정한 개수의 문자열을 잘라내서 반환한다.

*조건에 따라 컬럼값을 다른 값으로 바꿔서 출력하려면?
DECODE(컬럼명, 원래값, 변경할값, 원래값2, 변경값2...) 또는
CASE WHEN 조건N THEN 결과N END 활용.

*LPAD / RPAD(STRING, 최종적으로 반환할 문자의 길이 (바이트), 덧붙이려는 문자)
문자에 대해 통일감있게 보여주고자 할 때 쓴다.
주어진 컬럼이나 문자열에 임의의 문자열을 왼쪽/오른쪽에 덧붙여서 길이 N의 문자열 반환
(L/R)PAD(칼럼명, N, 문자열)

*LTRIM/RTRIM
주어진 컬럼, 문자열의 왼쪽/오른쪽에서 지정한 문자열에 포함된 모든 문자를 제거한 나머지를 반환
(L/R)TRIM(컬럼명, 문자열)
문자열 생략하면 기본적으로 공백 찾아서 제거한다. 맨 처음 탐색했을 때 바로 조건의 문자열을 못찾으면 때려 친다.



